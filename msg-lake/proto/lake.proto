syntax = "proto3";

option go_package = "github.com/h0n9/toybox/msg-lake/proto";

import "proto/types.proto";
import "proto/msg.proto";

service Lake {
    rpc Send(SendReq) returns (SendRes);
    rpc Recv(RecvReq) returns (stream RecvRes);
}

message SendReq {
    ID id = 1;
    Msg msg = 2;
}

message SendRes {
    bool ok = 1;
}

message RecvReq {
    Address address = 1;
}

message RecvRes {
    Msg msg = 1;
}